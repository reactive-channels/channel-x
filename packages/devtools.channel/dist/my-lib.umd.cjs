(function(s,f){typeof exports=="object"&&typeof module<"u"?f(require("vue")):typeof define=="function"&&define.amd?define(["vue"],f):(s=typeof globalThis<"u"?globalThis:s||self,f(s.Vue))})(this,function(s){"use strict";var Ct=Object.defineProperty;var qt=(s,f,E)=>f in s?Ct(s,f,{enumerable:!0,configurable:!0,writable:!0,value:E}):s[f]=E;var d=(s,f,E)=>(qt(s,typeof f!="symbol"?f+"":f,E),E);function f(n){return typeof n=="function"}function E(n){return f(n==null?void 0:n.lift)}function ye(n){return function(e){if(E(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var A=function(n,e){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},A(n,e)};function g(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");A(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function D(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],c;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){c={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return i}function V(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function X(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $=X(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function U(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var O=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,o,i;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var a=D(c),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else c.remove(this);var p=this.initialTeardown;if(f(p))try{p()}catch(y){i=y instanceof $?y.errors:[y]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var S=D(m),w=S.next();!w.done;w=S.next()){var P=w.value;try{Z(P)}catch(y){i=i!=null?i:[],y instanceof $?i=V(V([],N(i)),N(y.errors)):i.push(y)}}}catch(y){r={error:y}}finally{try{w&&!w.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}}if(i)throw new $(i)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Z(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&U(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&U(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),J=O.EMPTY;function K(n){return n instanceof O||n&&"closed"in n&&f(n.remove)&&f(n.add)&&f(n.unsubscribe)}function Z(n){f(n)?n():n.unsubscribe()}var R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var o=F.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,V([n,e],N(t))):setTimeout.apply(void 0,V([n,e],N(t)))},clearTimeout:function(n){var e=F.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function ve(n){F.setTimeout(function(){throw n})}function ee(){}var I=null;function B(n){if(R.useDeprecatedSynchronousErrorHandling){var e=!I;if(e&&(I={errorThrown:!1,error:null}),n(),e){var t=I,r=t.errorThrown,o=t.error;if(I=null,r)throw o}}else n()}var M=function(n){g(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,K(t)&&t.add(r)):r.destination=Se,r}return e.create=function(t,r,o){return new W(t,r,o)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(O),Ee=Function.prototype.bind;function L(n,e){return Ee.call(n,e)}var ge=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){j(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){j(r)}else j(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){j(t)}},n}(),W=function(n){g(e,n);function e(t,r,o){var i=n.call(this)||this,c;if(f(t)||!t)c={next:t!=null?t:void 0,error:r!=null?r:void 0,complete:o!=null?o:void 0};else{var a;i&&R.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return i.unsubscribe()},c={next:t.next&&L(t.next,a),error:t.error&&L(t.error,a),complete:t.complete&&L(t.complete,a)}):c=t}return i.destination=new ge(c),i}return e}(M);function j(n){ve(n)}function ke(n){throw n}var Se={closed:!0,next:ee,error:ke,complete:ee},we=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function xe(n){return n}function Te(n){return n.length===0?xe:n.length===1?n[0]:function(t){return n.reduce(function(r,o){return o(r)},t)}}var te=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var o=this,i=Ve(e)?e:new W(e,t,r);return B(function(){var c=o,a=c.operator,l=c.source;i.add(a?a.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=ne(t),new t(function(o,i){var c=new W({next:function(a){try{e(a)}catch(l){i(l),c.unsubscribe()}},error:i,complete:o});r.subscribe(c)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[we]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Te(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=ne(e),new e(function(r,o){var i;t.subscribe(function(c){return i=c},function(c){return o(c)},function(){return r(i)})})},n.create=function(e){return new n(e)},n}();function ne(n){var e;return(e=n!=null?n:R.Promise)!==null&&e!==void 0?e:Promise}function Ne(n){return n&&f(n.next)&&f(n.error)&&f(n.complete)}function Ve(n){return n&&n instanceof M||Ne(n)&&K(n)}function Oe(n,e,t,r,o){return new Ie(n,e,t,r,o)}var Ie=function(n){g(e,n);function e(t,r,o,i,c,a){var l=n.call(this,t)||this;return l.onFinalize=c,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(p){t.error(p)}}:n.prototype._next,l._error=i?function(u){try{i(u)}catch(p){t.error(p)}finally{this.unsubscribe()}}:n.prototype._error,l._complete=o?function(){try{o()}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,l}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(M),re={now:function(){return(re.delegate||Date).now()},delegate:void 0},Be=X(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),z=function(n){g(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new oe(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Be},e.prototype.next=function(t){var r=this;B(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var c=D(r.currentObservers),a=c.next();!a.done;a=c.next()){var l=a.value;l.next(t)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}})},e.prototype.error=function(t){var r=this;B(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var o=r.observers;o.length;)o.shift().error(t)}})},e.prototype.complete=function(){var t=this;B(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,o=this,i=o.hasError,c=o.isStopped,a=o.observers;return i||c?J:(this.currentObservers=null,a.push(t),new O(function(){r.currentObservers=null,U(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,o=r.hasError,i=r.thrownError,c=r.isStopped;o?t.error(i):c&&t.complete()},e.prototype.asObservable=function(){var t=new te;return t.source=this,t},e.create=function(t,r){return new oe(t,r)},e}(te),oe=function(n){g(e,n);function e(t,r){var o=n.call(this)||this;return o.destination=t,o.source=r,o}return e.prototype.next=function(t){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,t)},e.prototype.error=function(t){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&o!==void 0?o:J},e}(z),je=function(n){g(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){var t=this,r=t.hasError,o=t.thrownError,i=t._value;if(r)throw o;return this._throwIfClosed(),i},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(z),H=function(n){g(e,n);function e(t,r,o){t===void 0&&(t=1/0),r===void 0&&(r=1/0),o===void 0&&(o=re);var i=n.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return e.prototype.next=function(t){var r=this,o=r.isStopped,i=r._buffer,c=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;o||(i.push(t),!c&&i.push(a.now()+l)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),o=this,i=o._infiniteTimeWindow,c=o._buffer,a=c.slice(),l=0;l<a.length&&!t.closed;l+=i?1:2)t.next(a[l]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,o=t._timestampProvider,i=t._buffer,c=t._infiniteTimeWindow,a=(c?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!c){for(var l=o.now(),u=0,p=1;p<i.length&&i[p]<=l;p+=2)u=p;u&&i.splice(0,u+1)}},e}(z);function Ce(n){return ye(function(e,t){var r=!1,o=0;e.subscribe(Oe(t,function(i){return(r||(r=!n(i,o++)))&&t.next(i)}))})}function qe(n,e,t,r){b.innerUse("devtool").publish(t)}function Pe(n=!1){return function(t,r,o,i){return t[r]!==o&&qe(t,r,o),Reflect.set(t,r,o,i)}}const se={get:function(n,e,t){return n[e]},set:Pe()},ie=Symbol("channelx");function Ae(n){return De(n)}function De(n){return n[ie]={queues:ce({},se),emitters:ce({},se),innerQueues:{},exchanges:[]},n[ie]}function ce(n,e){return new Proxy(n,e)}async function $e(n){return fetch(n.url,n).then(e=>e.json())}function Ue(n){return Object.keys(n).length===0}var ae=(n=>(n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE",n))(ae||{});function Re(n){const e={};return typeof n=="string"?(e.url=n,e.method=ae.GET):typeof n=="function"?e.func=n:(e.url=n.url,e.method=n.method,e.data=n.data,e.options=n.options),e}var Q=(n=>(n.TEXT="text",n.NUMBER="number",n.ARRAY="array",n.OBJECT="object",n))(Q||{}),x=(n=>(n.fanout="fanout",n.topic="topic",n.headers="headers",n.direct="direct",n))(x||{});const h=class{constructor(e,t,r){d(this,"options");d(this,"queueName");d(this,"queueContext");d(this,"subscriptions",[]);d(this,"operators");d(this,"builders",{});d(this,"tempData");d(this,"queues");d(this,"emitters");d(this,"exchangeName","default");d(this,"exchangeType",x.fanout);d(this,"httpInfo",{url:"",func:null});var o;this.clearChannelData(),this.queues=this.setQueues(r==null?void 0:r.inner),(o=this.queues[e])!=null&&o.subject||(this.queues[e]={subject:t,info:null,tempData:"",track:r==null?void 0:r.track}),this.queueName=e,this.options=r}static classForTestsOnly(e,t,r){return new h(e,t,r)}get propsForTestsOnly(){return{queueName:this.queueName,queueContext:this.queueContext,subscriptions:this.subscriptions,operators:this.operators,builders:this.builders,tempData:this.tempData,queues:this.queues,emitters:this.emitters,exchangeName:this.exchangeName,exchangeType:this.exchangeType,httpInfo:this.httpInfo}}static publishTo(e,t){h.broker.queues[e]&&h.broker.queues[e].subject.next(t)}static consumeFrom(e){var t;return(t=h.broker.queues[e])==null?void 0:t.subject}static get settings(){return{broker:h.broker,context:h.context}}scope(e){return h.context.push(e),this}static use(e,t){return new h(e,new H(20),t)}static useReplay(e,t){return new h(e,new H(20),t)}static innerUse(e,t){return new h(e,new H(20),{...t,inner:!0})}stash(e,t=Q.TEXT,r=!0){const o=this.queues[this.queueName];switch(t){case Q.TEXT:r?o.tempData=e:o.tempData+=e}}stashAndPublishWhen(){return""}flushAndPublish(){const e=this.queues[this.queueName],t=e==null?void 0:e.tempData;t!==void 0&&this.publish(t,()=>e.tempData="")}context(e){return this.queueContext=e,this.queueContext.queueName=this.queueName,this}static getQueues(){return console.log("queues",h.broker.queues),h.broker.queues}static getExchanges(){return h.exchanges}assertExchange(e,t=x.fanout){return this.exchangeName=e,this.exchangeType=t,this}setQueues(e){return this.queues=e?h.broker.innerQueues:h.broker.queues,this.emitters=h.broker.emitters,this.queues}close(){h.clearSubscriptions(this.queueName)}clearChannelData(){this.exchangeName="default",this.operators=null,this.queueName="",this.exchangeType=x.fanout,this.httpInfo={url:""}}setEndpoint(e,t=!0){return this.httpInfo=Re(e),t?this:this.httpInfo}pushToExchange(e,t){e.forEach(r=>{this.queues[r]?this.queues[r].subject.next(t):this.queues[r].subject=new je(t)})}pushToQueues(e,t){e!=null&&e.length?this.pushToExchange(e,t):this.queues[this.queueName].subject.next(t)}pipeTransformers(e){return Object.keys(this.builders).map(r=>{const o=this.builders[r];return o.builder(e)(o.functionBody)})[0]}async getHttpResult(){var t,r;let e="";return((t=this.httpInfo)==null?void 0:t.func)&&typeof this.httpInfo.func=="function"?e=await this.httpInfo.func():(r=this.httpInfo)!=null&&r.url&&(e=await $e(this.httpInfo)),e}async setMsg(e){let t=e;const r=await this.getHttpResult();return r&&e&&(r.channelMsg=e,t=r),t}async publish(e,t){return this.pushToQueues(h.exchanges[this.exchangeName],await this.setMsg(e)),t&&typeof t=="function"&&t(),this}pipe(e){return this.operators=e,this}tube(e,t){return this.builders[e.name]={builder:e,functionBody:t},this}funnel(){return this}static clearSubscriptions(e){h.refs.get(e).forEach(r=>r.unsubscribe())}createStream(e){return e.subject.pipe(Ce(t=>t===h.subjectOptions.INIT_VALUE))}consume(e,t=!0){let r=this.createStream(this.queues[this.queueName]),o;const i=this.operators;if(i&&(r=r.pipe(...i)),Ue(this.builders)||(r=this.pipeTransformers(r)),e)t?o=r.subscribe(e):e();else return r;return this.subscriptions.push(o),h.refs.set(this.queueName,this.subscriptions),this.queues[this.queueName].subject}bindExchange(e,t=x.fanout){return this.exchangeName=e,this.exchangeType=t,h.exchanges[e]=h.exchanges[e]||[],h.exchanges[e].push(this.queueName),this}};let b=h;d(b,"INIT_VALUE",`INIT_VALUE${new Date().valueOf()}`),d(b,"_queues",{}),d(b,"broker",Ae(globalThis)),d(b,"exchanges",{}),d(b,"context",[]),d(b,"refs",new Map),d(b,"subjectOptions",{INIT_VALUE:Symbol("SUBJECT_INIT_VALUE"),BUFFER_SIZE:Number.POSITIVE_INFINITY,WINDOW_TIME:500}),process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const Fe=()=>{},Me=Object.assign,Le=Array.isArray,We=n=>typeof n=="function",ze=n=>typeof n=="symbol";let He;function Qe(n,e=He){e&&e.active&&e.effects.push(n)}const ue=n=>{const e=new Set(n);return e.w=0,e.n=0,e},le=n=>(n.w&v)>0,he=n=>(n.n&v)>0,Ye=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=v},Ge=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const o=e[r];le(o)&&!he(o)?o.delete(n):e[t++]=o,o.w&=~v,o.n&=~v}e.length=t}};let T=0,v=1;const Y=30;let _;Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class Xe{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Qe(this,r)}run(){if(!this.active)return this.fn();let e=_,t=C;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=_,_=this,C=!0,v=1<<++T,T<=Y?Ye(this):fe(this),this.fn()}finally{T<=Y&&Ge(this),v=1<<--T,_=this.parent,C=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_===this?this.deferStop=!0:this.active&&(fe(this),this.onStop&&this.onStop(),this.active=!1)}}function fe(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let C=!0;function pe(n,e){let t=!1;T<=Y?he(n)||(n.n|=v,t=!le(n)):t=!n.has(_),t&&(n.add(_),_.deps.push(n),process.env.NODE_ENV!=="production"&&_.onTrack&&_.onTrack(Object.assign({effect:_},e)))}function de(n,e){const t=Le(n)?n:[...n];for(const r of t)r.computed&&_e(r,e);for(const r of t)r.computed||_e(r,e)}function _e(n,e){(n!==_||n.allowRecurse)&&(process.env.NODE_ENV!=="production"&&n.onTrigger&&n.onTrigger(Me({effect:n},e)),n.scheduler?n.scheduler():n.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ze));function q(n){const e=n&&n.__v_raw;return e?q(e):n}function Je(n){C&&_&&(n=q(n),process.env.NODE_ENV!=="production"?pe(n.dep||(n.dep=ue()),{target:n,type:"get",key:"value"}):pe(n.dep||(n.dep=ue())))}function Ke(n,e){n=q(n),n.dep&&(process.env.NODE_ENV!=="production"?de(n.dep,{target:n,type:"set",key:"value",newValue:e}):de(n.dep))}var be;class Ze{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[be]=!1,this._dirty=!0,this.effect=new Xe(e,()=>{this._dirty||(this._dirty=!0,Ke(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=q(this);return Je(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}be="__v_isReadonly";function et(n,e,t=!1){let r,o;const i=We(n);i?(r=n,o=process.env.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:Fe):(r=n.get,o=n.set);const c=new Ze(r,o,i||!o,t);return process.env.NODE_ENV!=="production"&&e&&!t&&(c.effect.onTrack=e.onTrack,c.effect.onTrigger=e.onTrigger),c}const me=n=>n.charAt(0).toUpperCase()+n.slice(1),tt=s.defineComponent({__name:"Channels",props:{content:{type:Object,required:!0}},setup(n){const e={consumers:{},publishers:{}},t=s.reactive([]),r=b.getQueues();return Object.keys(r).forEach(o=>{const i=r[o].devtools.channels;Object.keys(i).forEach(c=>{const a=c;e[a][o]=e[a][o]||{},e[a][o]={queue:o,content:i[c]}})}),Object.keys(e).forEach(o=>{t.push({type:me(o),content:e[o]})}),(o,i)=>(s.openBlock(),s.createBlock(G,{items:t},null,8,["items"]))}}),nt={class:"components"},rt={class:"components__zone"},ot=["onClick","onMouseleave","onMouseover"],st={class:"components__zone__item_sup"},it={class:"components__info"},ct=s.defineComponent({__name:"Components",props:{content:{type:Object,required:!0}},emits:["component-info"],setup(n,{emit:e}){const t=n,r=s.ref({}),o=s.ref({}),i=s.ref([{}]);s.watchEffect(()=>{const u=t.content.components;r.value={...r.value,...u}});const c=u=>{const p=u.info.instance.channelx;i.value=Object.keys(p).map((m,S)=>({type:me(m),content:p[m]})),i.value.push({type:"Http",content:u}),i.value.push({type:"Diagrams",content:u}),o.value=u,e("component-info",u)},a=u=>{if(!u)return;u.el.classList.add("overlay");const p=u.el.getBoundingClientRect();u.el.setAttribute("data-component-info",u.componentName.toUpperCase()+" ( "+(p.width%1?p.width.toFixed(2):p.width)+" X "+(p.height%1?p.height.toFixed(2):p.height)+" ) ")},l=u=>{u.el.classList.remove("overlay"),u.el.removeAttribute("data-component-info")};return(u,p)=>(s.openBlock(),s.createElementBlock("div",nt,[s.createElementVNode("div",rt,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(r.value,(m,S,w)=>(s.openBlock(),s.createElementBlock("div",{class:s.normalizeClass(["components__zone__item",{"components__zone__item--active":m===o.value}]),key:S,onClick:P=>c(m),onMouseleave:P=>l(m.info),onMouseover:P=>a(m.info)},[s.createElementVNode("div",null,[s.createTextVNode(s.toDisplayString(m.info.componentName),1),s.createElementVNode("sup",st,s.toDisplayString(m.uid),1)])],42,ot))),128))]),s.createElementVNode("div",it,[s.createVNode(G,{items:i.value},null,8,["items"])])]))}}),Pt="",k=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},at=k(ct,[["__scopeId","data-v-d5f43e71"]]),ut=["onClick"],lt=s.defineComponent({__name:"Consumers",props:{content:{type:Array,required:!0}},setup(n){const e=t=>{console.log("item",t)};return(t,r)=>(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.content,o=>(s.openBlock(),s.createElementBlock("div",null,[s.createElementVNode("div",{onClick:i=>e(o),class:"scope__boxes"},s.toDisplayString((o==null?void 0:o.queue)||o),9,ut)]))),256))}}),At="",ht=k(lt,[["__scopeId","data-v-db6e940d"]]),Dt="",ft={},pt=[s.createElementVNode("li",{head:"",on:"1"},"User",-1),s.createElementVNode("li",{head:"",on:"2"},"Page",-1),s.createElementVNode("li",{head:"",on:"3"},"Service Worker",-1),s.createElementVNode("li",{head:"",on:"4"},"Server",-1),s.createElementVNode("li",{head:"",on:"5"},"Push Service",-1),s.createElementVNode("li",{from:"1",to:"4"},"Navigation",-1),s.createElementVNode("li",{back:"",from:"4",to:"2"},"Page Load",-1),s.createElementVNode("li",{from:"2",to:"3"},"register()",-1),s.createElementVNode("li",{on:"3"},"Register Push Handler",-1),s.createElementVNode("li",{on:"3"},"Register Notification Click Handler",-1),s.createElementVNode("li",{back:"",from:"3",to:"2"},"success",-1),s.createElementVNode("li",{back:"",from:"2",to:"1"},"Notification Permission Prompt",-1),s.createElementVNode("li",{on:"3"},"Worker is suspended",-1),s.createElementVNode("li",{on:"1"},"permission granted",-1),s.createElementVNode("li",{from:"1",to:"2"},"success",-1),s.createElementVNode("li",{on:"2"},"endpoint and key generated",-1),s.createElementVNode("li",{from:"2",to:"4"},"send endpoint & key",-1),s.createElementVNode("li",{on:"2"},"page blur or closed",-1),s.createElementVNode("li",{break:""},"*time passes*",-1),s.createElementVNode("li",{on:"4"},"event!",-1),s.createElementVNode("li",{from:"4",to:"5"},"send message",-1),s.createElementVNode("li",{back:"",from:"5",to:"3"},"push event",-1),s.createElementVNode("li",{on:"3"},"worker is resumed",-1),s.createElementVNode("li",{back:"",from:"3",to:"1"},"display notification",-1),s.createElementVNode("li",{on:"1"},"click on notification",-1),s.createElementVNode("li",{from:"1",to:"3"},"notificationclick event",-1),s.createElementVNode("li",{back:"",from:"3",to:"1"},"focus tab / open page",-1)];function dt(n,e){return s.openBlock(),s.createElementBlock("ol",null,pt)}const _t=k(ft,[["render",dt]]),bt=s.defineComponent({__name:"Diagrams",setup(n){return(e,t)=>(s.openBlock(),s.createBlock(_t))}}),mt=s.defineComponent({__name:"Http",props:{content:{type:Array,required:!0}},setup(n){const e=n;return s.onMounted(()=>{console.log("props",e)}),(t,r)=>"http"}}),yt=["onClick"],vt=s.defineComponent({__name:"Publishers",props:{content:{type:Array,required:!0}},setup(n){const e=t=>{console.log("item",t)};return(t,r)=>(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.content,o=>(s.openBlock(),s.createElementBlock("div",null,[s.createElementVNode("div",{onClick:i=>e(o),class:"scope__boxes"},s.toDisplayString((o==null?void 0:o.queue)||o),9,yt)]))),256))}}),fn="",Et={Channels:tt,Components:at,Consumers:ht,Publishers:k(vt,[["__scopeId","data-v-798c746b"]]),Diagrams:bt,Http:mt},gt={class:"tabs__content"},kt=s.defineComponent({__name:"Tab",props:{type:{type:String,required:!0},content:{type:Object,required:!0}},setup(n){const e=n,t=Et,r=s.computed(()=>t[e.type]),o=i=>{e.content.components[i.uid],console.log("component",i)};return(i,c)=>(s.openBlock(),s.createElementBlock("div",gt,[(s.openBlock(),s.createBlock(s.KeepAlive,null,[(s.openBlock(),s.createBlock(s.resolveDynamicComponent(s.unref(r)),{onComponentInfo:o,content:n.content},null,40,["content"]))],1024))]))}}),dn="",St=k(kt,[["__scopeId","data-v-3effb95f"]]),wt={class:"tabs__header"},xt=["onClick"],Tt=s.defineComponent({__name:"TabsHeader",props:{items:{type:Array,required:!0},activeTab:{type:Number,required:!0}},emits:["set-active-tab"],setup(n,{emit:e}){const t=r=>{console.log("index",r),e("set-active-tab",r)};return(r,o)=>(s.openBlock(),s.createElementBlock("div",wt,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.items,(i,c)=>(s.openBlock(),s.createElementBlock("div",{key:c,class:s.normalizeClass(["tabs__header__tab",{"tabs__header__tab--active":c===n.activeTab}]),onClick:a=>t(c)},s.toDisplayString(i==null?void 0:i.toUpperCase()),11,xt))),128))]))}}),_n="",Nt={class:"tabs"},Vt=s.defineComponent({__name:"Tabs",props:{items:{type:Array,required:!0}},setup(n){const e=n,t=s.ref(0),r=i=>{t.value=i},o=et(()=>{var i;return((i=e.items)==null?void 0:i[t.value])||e.items[0]});return(i,c)=>(s.openBlock(),s.createElementBlock("div",Nt,[s.createVNode(s.unref(Tt),{items:n.items.map(a=>a.type),"active-tab":t.value,onSetActiveTab:r},null,8,["items","active-tab"]),s.createVNode(s.unref(St),{content:s.unref(o).content,type:s.unref(o).type},null,8,["content","type"])]))}}),bn="",G=k(Vt,[["__scopeId","data-v-2bb5b1be"]]),Ot={class:"devtools-container"},It=s.defineComponent({__name:"Devtool",setup(n){const e=s.ref([{}]);return b.innerUse("devtool").consume(t=>{setTimeout(()=>{e.value=[{type:"Components",content:t.devtools},{type:"Channels",content:t.devtools},{type:"Broker",content:t.devtools}]},0)}),(t,r)=>(s.openBlock(),s.createElementBlock("div",Ot,[s.createVNode(G,{items:e.value},null,8,["items"])]))}}),mn="",Bt=k(It,[["__scopeId","data-v-6f5886d3"]]),jt=s.defineComponent({__name:"App",setup(n){return(e,t)=>(s.openBlock(),s.createElementBlock("div",null,[s.createVNode(Bt)]))}});s.createApp(jt).mount("#app")});
